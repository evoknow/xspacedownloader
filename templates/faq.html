{% extends "base.html" %}

{% block title %}FAQ - XSpace Downloader{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-10 mx-auto">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0"><i class="bi bi-question-circle"></i> Frequently Asked Questions</h4>
            </div>
            <div class="card-body">
                <p class="lead mb-4">Find answers to common questions about XSpace Downloader</p>
                
                <div class="accordion" id="faqAccordion">
                    
                    <!-- General Questions -->
                    <h5 class="mt-4 mb-3 text-primary">General Questions</h5>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                What is XSpace Downloader?
                            </button>
                        </h2>
                        <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                XSpace Downloader is a web-based tool that allows you to download and archive X (formerly Twitter) Spaces. It preserves audio content from live conversations, making them available for future listening, transcription, and translation.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                Is XSpace Downloader free to use?
                            </button>
                        </h2>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes, XSpace Downloader is completely free to use. It's an open-source project released under the MIT License. You can download spaces without any limitations or subscription fees.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                Do I need to create an account?
                            </button>
                        </h2>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                No account is required to download spaces. However, creating a free account (via email magic link) allows you to:
                                <ul>
                                    <li>Keep track of all your downloaded spaces</li>
                                    <li>Add personal notes to spaces</li>
                                    <li>Access your downloads from any device</li>
                                    <li>Organize spaces with custom tags</li>
                                    <li>Edit space titles for better organization</li>
                                    <li>View your download history and statistics</li>
                                    <li>Create audio clips from longer spaces</li>
                                </ul>
                                We automatically detect your country on login for better regional support.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Downloading Questions -->
                    <h5 class="mt-5 mb-3 text-primary">Downloading Spaces</h5>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                How do I download a Space?
                            </button>
                        </h2>
                        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <ol>
                                    <li>Copy the URL of the X Space you want to download</li>
                                    <li>Paste it into the input field on the home page</li>
                                    <li>Click "Submit"</li>
                                    <li>Your download will be queued and processed automatically</li>
                                    <li>Once complete, you can listen online or download the MP3 file</li>
                                </ol>
                                You can continue browsing while your download is being processed.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                What format are Spaces downloaded in?
                            </button>
                        </h2>
                        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Spaces are downloaded and converted to MP3 format for maximum compatibility. MP3 files can be played on virtually any device and are optimized for audio quality while keeping file sizes reasonable.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">
                                How long does downloading take?
                            </button>
                        </h2>
                        <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Download time depends on:
                                <ul>
                                    <li>Length of the Space (longer spaces take more time)</li>
                                    <li>Current queue size (downloads are processed in order)</li>
                                    <li>Server load</li>
                                </ul>
                                Typically, a 1-hour Space takes 2-5 minutes to download and process. You can monitor progress in the Queue page.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq7">
                                Can I download Spaces that have already ended?
                            </button>
                        </h2>
                        <div id="faq7" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes, you can download Spaces that have ended, as long as they are still available on X. X typically keeps recorded Spaces available for a limited time (usually 30 days), so download them soon after they end.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Features Questions -->
                    <h5 class="mt-5 mb-3 text-primary">Features & Functionality</h5>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq8">
                                What is the transcription feature?
                            </button>
                        </h2>
                        <div id="faq8" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                The transcription feature converts spoken audio from Spaces into written text using advanced AI. This allows you to:
                                <ul>
                                    <li>Read the conversation instead of listening</li>
                                    <li>Search for specific topics or quotes</li>
                                    <li>Copy and share text excerpts</li>
                                    <li>Translate content to other languages</li>
                                </ul>
                                Transcription supports multiple languages and is highly accurate.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq9">
                                Can I add notes to Spaces?
                            </button>
                        </h2>
                        <div id="faq9" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes! Each Space has a notes section where you can:
                                <ul>
                                    <li>Add personal thoughts and comments</li>
                                    <li>Highlight key moments with timestamps</li>
                                    <li>Embed YouTube videos for reference</li>
                                    <li>Format text with rich editing tools</li>
                                    <li>View note history and timestamps</li>
                                </ul>
                                Notes are private to your account and saved automatically.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq9a">
                                What AI features are available?
                            </button>
                        </h2>
                        <div id="faq9a" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                XSpace Downloader leverages advanced AI for several features:
                                <ul>
                                    <li><strong>Smart Transcription:</strong> Converts speech to text with speaker identification</li>
                                    <li><strong>AI Summaries:</strong> Automatically generates concise summaries of long conversations</li>
                                    <li><strong>Language Detection:</strong> Automatically identifies the spoken language</li>
                                    <li><strong>Multilingual Support:</strong> Transcribe and summarize in the original language</li>
                                    <li><strong>Context-Aware Translation:</strong> Maintains meaning and nuance across languages</li>
                                </ul>
                                These features use either OpenAI (GPT-4) or Anthropic (Claude) APIs, configurable in settings.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq10">
                                What languages are supported for translation?
                            </button>
                        </h2>
                        <div id="faq10" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                XSpace Downloader supports translation to and from over 100 languages, including:
                                <ul>
                                    <li>Major languages: English, Spanish, French, German, Chinese, Japanese, Arabic, Hindi</li>
                                    <li>European languages: Italian, Portuguese, Dutch, Polish, Russian</li>
                                    <li>Asian languages: Korean, Vietnamese, Thai, Indonesian</li>
                                    <li>And many more...</li>
                                </ul>
                                The AI-powered translation maintains context and nuance for accurate results.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq10a">
                                How do I trim or create clips from Spaces?
                            </button>
                        </h2>
                        <div id="faq10a" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                You can create shorter clips from long Spaces using our trim and clip features:
                                <ul>
                                    <li><strong>Trim:</strong> Click the scissors icon on any Space to remove unwanted portions from the beginning or end</li>
                                    <li><strong>Create Clips:</strong> Use the "Create Clip" button to extract specific segments with custom titles</li>
                                    <li>Set precise start and end times using the audio player</li>
                                    <li>Name your clips for easy identification</li>
                                    <li>Download clips separately while keeping the original</li>
                                </ul>
                                Perfect for sharing highlights or important moments!
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq10b">
                                Can I edit Space titles and metadata?
                            </button>
                        </h2>
                        <div id="faq10b" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes! Logged-in users can customize Space information:
                                <ul>
                                    <li>Click the edit icon next to any Space title to rename it</li>
                                    <li>Titles are updated instantly without page reload</li>
                                    <li>Original metadata is preserved and can be viewed</li>
                                    <li>Search works with both original and custom titles</li>
                                    <li>Your custom titles sync across all your devices</li>
                                </ul>
                                This helps you organize Spaces with meaningful names instead of auto-generated IDs.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq10c">
                                What is the Admin Dashboard?
                            </button>
                        </h2>
                        <div id="faq10c" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                The Admin Dashboard (available to administrators only) provides comprehensive site management:
                                <ul>
                                    <li><strong>User Management:</strong> View all users, toggle admin status, suspend accounts</li>
                                    <li><strong>Space Management:</strong> Monitor all downloaded spaces, remove inappropriate content</li>
                                    <li><strong>Statistics:</strong> Track daily/weekly/monthly usage patterns</li>
                                    <li><strong>Analytics:</strong> View most popular spaces, active users, and download trends</li>
                                    <li><strong>System Health:</strong> Monitor queue status and system performance</li>
                                </ul>
                                Admins can access the dashboard via the Admin button in the navigation menu.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Technical Questions -->
                    <h5 class="mt-5 mb-3 text-primary">Technical Questions</h5>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq11">
                                Is my data private and secure?
                            </button>
                        </h2>
                        <div id="faq11" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes, your privacy is important to us:
                                <ul>
                                    <li>Downloaded Spaces are associated with your account only</li>
                                    <li>Personal notes are private and encrypted</li>
                                    <li>No passwords are stored (we use secure email magic links)</li>
                                    <li>Email login links expire after one use for security</li>
                                    <li>We track minimal data: only login count and country for statistics</li>
                                    <li>You can delete your data at any time</li>
                                    <li>We don't share your information with third parties</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq11a">
                                How does the email magic link login work?
                            </button>
                        </h2>
                        <div id="faq11a" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Our passwordless authentication system is simple and secure:
                                <ol>
                                    <li>Enter your email address and click "Send Login Link"</li>
                                    <li>Check your email for a secure login link</li>
                                    <li>Click the link to instantly log in</li>
                                    <li>The link expires after use or 24 hours for security</li>
                                </ol>
                                Benefits:
                                <ul>
                                    <li>No passwords to remember or manage</li>
                                    <li>More secure than traditional passwords</li>
                                    <li>Quick access from any device</li>
                                    <li>Automatic migration of anonymous downloads to your account</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq12">
                                Can I self-host XSpace Downloader?
                            </button>
                        </h2>
                        <div id="faq12" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes! XSpace Downloader is open-source and can be self-hosted. You'll need:
                                <ul>
                                    <li>Python 3.8 or higher</li>
                                    <li>MySQL or MariaDB database</li>
                                    <li>FFmpeg for audio processing</li>
                                    <li>Optional: AI API keys for transcription/translation</li>
                                </ul>
                                The setup wizard (accessible at /setup) guides you through:
                                <ul>
                                    <li>Creating your first admin account</li>
                                    <li>Configuring database connections with test functionality</li>
                                    <li>Setting up email providers (SendGrid or Mailgun)</li>
                                    <li>Adding AI service keys (OpenAI or Anthropic)</li>
                                    <li>Testing all services before going live</li>
                                </ul>
                                Check our GitHub repository for detailed installation instructions.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq13">
                                What are the system requirements?
                            </button>
                        </h2>
                        <div id="faq13" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                For users: Any modern web browser (Chrome, Firefox, Safari, Edge) with JavaScript enabled.
                                <br><br>
                                For self-hosting:
                                <ul>
                                    <li>2GB RAM minimum (4GB recommended)</li>
                                    <li>10GB storage for application and downloads</li>
                                    <li>Linux, macOS, or Windows with WSL</li>
                                    <li>Stable internet connection</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Usage Tracking Questions -->
                    <h5 class="mt-5 mb-3 text-primary">Usage Tracking & Analytics</h5>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq_tracking1">
                                How are play counts tracked?
                            </button>
                        </h2>
                        <div id="faq_tracking1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                To ensure accurate and fair play count statistics, we have implemented the following tracking rules:
                                <ul>
                                    <li><strong>30-minute cooldown:</strong> Each user can only count one play per space every 30 minutes</li>
                                    <li><strong>Minimum duration:</strong> You must listen for at least 30 seconds for the play to be counted</li>
                                    <li><strong>User identification:</strong> We track by user account (if logged in), browser cookie, and IP address</li>
                                    <li><strong>Real listening time:</strong> Pausing and resuming accumulates listening time accurately</li>
                                </ul>
                                This prevents artificial inflation of play counts while ensuring legitimate listening is properly tracked.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq_tracking2">
                                How are download counts tracked?
                            </button>
                        </h2>
                        <div id="faq_tracking2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Download counts are protected against manipulation with these measures:
                                <ul>
                                    <li><strong>Daily limit:</strong> Each user can only count one download per space per day</li>
                                    <li><strong>IP rate limiting:</strong> Maximum 10 downloads per IP address per hour (across all spaces)</li>
                                    <li><strong>User tracking:</strong> Downloads are tracked by user account, browser cookie, and IP address</li>
                                    <li><strong>Audit trail:</strong> All download attempts are logged for security monitoring</li>
                                </ul>
                                You can still download the same space multiple times, but only the first download per day will increment the public count.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq_tracking3">
                                Why wasn't my play/download counted?
                            </button>
                        </h2>
                        <div id="faq_tracking3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Your interaction might not be counted if:
                                <ul>
                                    <li><strong>For plays:</strong> You've already played this space within the last 30 minutes</li>
                                    <li><strong>For plays:</strong> You listened for less than 30 seconds</li>
                                    <li><strong>For downloads:</strong> You've already downloaded this space today</li>
                                    <li><strong>For downloads:</strong> You've exceeded the hourly download limit (10 per hour)</li>
                                    <li><strong>Rate limiting:</strong> You've made too many requests to the tracking system</li>
                                </ul>
                                Don't worry - you can still listen to or download the content; it just won't increment the public statistics. Check your browser's developer console for specific reasons if you're curious.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq_tracking4">
                                What data is collected for tracking?
                            </button>
                        </h2>
                        <div id="faq_tracking4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                For accurate and secure tracking, we collect minimal data:
                                <ul>
                                    <li><strong>User identification:</strong> Your user ID (if logged in), browser cookie, and IP address</li>
                                    <li><strong>Timestamps:</strong> When you played or downloaded content</li>
                                    <li><strong>Play duration:</strong> How long you actually listened (for play count validation)</li>
                                    <li><strong>User agent:</strong> Your browser type (for security analysis)</li>
                                </ul>
                                This data is used solely for:
                                <ul>
                                    <li>Preventing count manipulation and ensuring fair statistics</li>
                                    <li>Security monitoring and abuse prevention</li>
                                    <li>Improving the user experience</li>
                                </ul>
                                All tracking data is securely stored and not shared with third parties.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq_tracking5">
                                Can I see my own tracking history?
                            </button>
                        </h2>
                        <div id="faq_tracking5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Currently, individual tracking history is not exposed in the user interface, but we maintain complete records for security and analytics purposes. 
                                <br><br>
                                What you can see:
                                <ul>
                                    <li>Public play and download counts for all spaces</li>
                                    <li>Your personal favorites and downloads in your account</li>
                                    <li>Overall site statistics and popular content</li>
                                </ul>
                                If you have concerns about your tracking data or need to request its deletion, please contact the site administrators.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Support Questions -->
                    <h5 class="mt-5 mb-3 text-primary">Support & Troubleshooting</h5>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq14">
                                My download failed. What should I do?
                            </button>
                        </h2>
                        <div id="faq14" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                If a download fails:
                                <ol>
                                    <li>Check if the Space URL is correct and still accessible on X</li>
                                    <li>Try submitting the URL again</li>
                                    <li>Check the Queue page for error messages</li>
                                    <li>Ensure the Space hasn't been deleted by the host</li>
                                </ol>
                                If problems persist, please report the issue on our GitHub page.
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq15">
                                How can I report bugs or request features?
                            </button>
                        </h2>
                        <div id="faq15" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                We welcome feedback and contributions! You can:
                                <ul>
                                    <li>Report bugs on our GitHub Issues page</li>
                                    <li>Request features through GitHub Discussions</li>
                                    <li>Submit pull requests for improvements</li>
                                    <li>Join our community Discord server</li>
                                </ul>
                                Please include detailed information when reporting issues to help us resolve them quickly.
                            </div>
                        </div>
                    </div>
                    
                </div>
                
                <div class="mt-5 p-4 bg-light rounded">
                    <h5 class="mb-3">Still have questions?</h5>
                    <p class="mb-0">
                        Check out our <a href="{{ url_for('about') }}">About page</a> for more information about the project, 
                        or visit our <a href="https://github.com/yourusername/xspacedownloader" target="_blank">GitHub repository</a> 
                        for technical documentation.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}